{"ast":null,"code":"import React, { Component } from 'react';\nimport propTypes from 'prop-types';\n\nvar loadLibrary = function () {\n  var skin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'amp-default';\n  return new Promise(function (resolve, reject) {\n    if (document.querySelector('#amp-azure')) return resolve();\n    var scriptTag = document.createElement('script');\n    var linkTag = document.createElement('link');\n    linkTag.rel = 'stylesheet';\n    scriptTag.id = 'amp-azure';\n    scriptTag.src = '//amp.azure.net/libs/amp/2.1.5/azuremediaplayer.min.js';\n    linkTag.href = '//amp.azure.net/libs/amp/2.1.5/skins/' + skin + '/azuremediaplayer.min.css';\n    document.body.appendChild(scriptTag);\n    document.head.insertBefore(linkTag, document.head.firstChild);\n\n    scriptTag.onload = function () {\n      return resolve({\n        skin: skin\n      });\n    };\n  });\n};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar classnames = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2017 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg) && arg.length) {\n          var inner = classNames.apply(null, arg);\n\n          if (inner) {\n            classes.push(inner);\n          }\n        } else if (argType === 'object') {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if ('object' !== 'undefined' && module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else if (typeof undefined === 'function' && typeof undefined.amd === 'object' && undefined.amd) {\n      // register as 'classnames', consistent with npm package name\n      undefined('classnames', [], function () {\n        return classNames;\n      });\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n});\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".mp-component_azure-mp-container__idgeq {\\n  background: #000;\\n  width: 100%;\\n  height: 0;\\n  display: block;\\n  padding: 0;\\n  position: relative;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.mp-component_azure-mp-container__idgeq > div {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\";\nvar styles = {\n  \"azure-mp-container\": \"mp-component_azure-mp-container__idgeq\"\n};\nstyleInject(css);\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar DEFAULT_SKIN = 'amp-default';\nvar DEFAULT_RATIO = [16, 9];\n\nvar AzureMP = function (_Component) {\n  inherits(AzureMP, _Component);\n\n  function AzureMP(props) {\n    classCallCheck(this, AzureMP);\n\n    var _this = possibleConstructorReturn(this, (AzureMP.__proto__ || Object.getPrototypeOf(AzureMP)).call(this, props));\n\n    _this.videoNode = React.createRef();\n    return _this;\n  }\n\n  createClass(AzureMP, [{\n    key: 'destroyPlayer',\n    value: function destroyPlayer() {\n      this.player && this.player.dispose();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.destroyPlayer();\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var skin = this.props.skin;\n      this.initialization = loadLibrary(skin).then(function () {\n        _this2.createPlayer();\n\n        _this2.setVideo();\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      if (prevProps.src !== this.props.src) {\n        this.initialization.then(function () {\n          return _this3.setVideo();\n        });\n      }\n    }\n  }, {\n    key: 'setVideo',\n    value: function setVideo() {\n      var src = this.props.src;\n      this.player.src(src);\n    }\n  }, {\n    key: 'createPlayer',\n    value: function createPlayer() {\n      var _props = this.props,\n          options = _props.options,\n          onInstanceCreated = _props.onInstanceCreated;\n      var defaultOptions = {\n        controls: true,\n        logo: {\n          enabled: false\n        }\n      };\n      this.player = window.amp(this.videoNode.current, Object.assign({}, defaultOptions, options));\n      onInstanceCreated && onInstanceCreated(this.player);\n    }\n  }, {\n    key: 'getRatioStyles',\n    value: function getRatioStyles(ratio) {\n      if (!ratio) {\n        return {};\n      }\n\n      return {\n        paddingBottom: ratio[1] / ratio[0] * 100 + '%'\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          className = _props2.className,\n          _props2$skin = _props2.skin,\n          skin = _props2$skin === undefined ? DEFAULT_SKIN : _props2$skin,\n          _props2$adaptRatio = _props2.adaptRatio,\n          adaptRatio = _props2$adaptRatio === undefined ? DEFAULT_RATIO : _props2$adaptRatio,\n          cornerPlayBtn = _props2.cornerPlayBtn;\n      return React.createElement('div', {\n        style: this.getRatioStyles(adaptRatio),\n        className: classnames(defineProperty({}, styles['azure-mp-container'], adaptRatio), className)\n      }, React.createElement('video', {\n        ref: this.videoNode,\n        className: classnames('azuremediaplayer', skin + '-skin', {\n          'amp-big-play-centered': !cornerPlayBtn\n        })\n      }));\n    }\n  }]);\n  return AzureMP;\n}(Component);\n\nexport { AzureMP, loadLibrary };","map":{"version":3,"sources":["/Users/Cacace/Desktop/devconnector_2-1.0/node_modules/react-azure-mp/dist/index.es.js"],"names":["React","Component","propTypes","loadLibrary","skin","arguments","length","undefined","Promise","resolve","reject","document","querySelector","scriptTag","createElement","linkTag","rel","id","src","href","body","appendChild","head","insertBefore","firstChild","onload","createCommonjsModule","fn","module","exports","classnames","hasOwn","hasOwnProperty","classNames","classes","i","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","amd","window","styleInject","css","ref","insertAt","getElementsByTagName","style","type","styleSheet","cssText","createTextNode","styles","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","obj","value","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","DEFAULT_SKIN","DEFAULT_RATIO","AzureMP","_Component","_this","getPrototypeOf","videoNode","createRef","destroyPlayer","player","dispose","componentWillUnmount","componentDidMount","_this2","initialization","then","createPlayer","setVideo","componentDidUpdate","prevProps","_this3","_props","options","onInstanceCreated","defaultOptions","controls","logo","enabled","amp","current","assign","getRatioStyles","ratio","paddingBottom","render","_props2","className","_props2$skin","_props2$adaptRatio","adaptRatio","cornerPlayBtn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport propTypes from 'prop-types';\n\nvar loadLibrary = (function () {\n  var skin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'amp-default';\n\n  return new Promise(function (resolve, reject) {\n    if (document.querySelector('#amp-azure')) return resolve();\n    var scriptTag = document.createElement('script');\n    var linkTag = document.createElement('link');\n    linkTag.rel = 'stylesheet';\n    scriptTag.id = 'amp-azure';\n    scriptTag.src = '//amp.azure.net/libs/amp/2.1.5/azuremediaplayer.min.js';\n    linkTag.href = '//amp.azure.net/libs/amp/2.1.5/skins/' + skin + '/azuremediaplayer.min.css';\n    document.body.appendChild(scriptTag);\n    document.head.insertBefore(linkTag, document.head.firstChild);\n    scriptTag.onload = function () {\n      return resolve({ skin: skin });\n    };\n  });\n});\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar classnames = createCommonjsModule(function (module) {\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ('object' !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof undefined === 'function' && typeof undefined.amd === 'object' && undefined.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tundefined('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n});\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".mp-component_azure-mp-container__idgeq {\\n  background: #000;\\n  width: 100%;\\n  height: 0;\\n  display: block;\\n  padding: 0;\\n  position: relative;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.mp-component_azure-mp-container__idgeq > div {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\";\nvar styles = { \"azure-mp-container\": \"mp-component_azure-mp-container__idgeq\" };\nstyleInject(css);\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar DEFAULT_SKIN = 'amp-default';\nvar DEFAULT_RATIO = [16, 9];\n\nvar AzureMP = function (_Component) {\n  inherits(AzureMP, _Component);\n\n  function AzureMP(props) {\n    classCallCheck(this, AzureMP);\n\n    var _this = possibleConstructorReturn(this, (AzureMP.__proto__ || Object.getPrototypeOf(AzureMP)).call(this, props));\n\n    _this.videoNode = React.createRef();\n    return _this;\n  }\n\n  createClass(AzureMP, [{\n    key: 'destroyPlayer',\n    value: function destroyPlayer() {\n      this.player && this.player.dispose();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.destroyPlayer();\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var skin = this.props.skin;\n\n      this.initialization = loadLibrary(skin).then(function () {\n        _this2.createPlayer();\n        _this2.setVideo();\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      if (prevProps.src !== this.props.src) {\n        this.initialization.then(function () {\n          return _this3.setVideo();\n        });\n      }\n    }\n  }, {\n    key: 'setVideo',\n    value: function setVideo() {\n      var src = this.props.src;\n\n      this.player.src(src);\n    }\n  }, {\n    key: 'createPlayer',\n    value: function createPlayer() {\n      var _props = this.props,\n          options = _props.options,\n          onInstanceCreated = _props.onInstanceCreated;\n\n      var defaultOptions = {\n        controls: true,\n        logo: { enabled: false }\n      };\n      this.player = window.amp(this.videoNode.current, Object.assign({}, defaultOptions, options));\n      onInstanceCreated && onInstanceCreated(this.player);\n    }\n  }, {\n    key: 'getRatioStyles',\n    value: function getRatioStyles(ratio) {\n      if (!ratio) {\n        return {};\n      }\n      return { paddingBottom: ratio[1] / ratio[0] * 100 + '%' };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          className = _props2.className,\n          _props2$skin = _props2.skin,\n          skin = _props2$skin === undefined ? DEFAULT_SKIN : _props2$skin,\n          _props2$adaptRatio = _props2.adaptRatio,\n          adaptRatio = _props2$adaptRatio === undefined ? DEFAULT_RATIO : _props2$adaptRatio,\n          cornerPlayBtn = _props2.cornerPlayBtn;\n\n      return React.createElement(\n        'div',\n        {\n          style: this.getRatioStyles(adaptRatio),\n          className: classnames(defineProperty({}, styles['azure-mp-container'], adaptRatio), className) },\n        React.createElement('video', {\n          ref: this.videoNode,\n          className: classnames('azuremediaplayer', skin + '-skin', {\n            'amp-big-play-centered': !cornerPlayBtn\n          })\n        })\n      );\n    }\n  }]);\n  return AzureMP;\n}(Component);\n\nexport { AzureMP, loadLibrary };\n"]},"metadata":{},"sourceType":"module"}